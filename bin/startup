#!/usr/bin/env node

/**
 * Module dependencies.
 */

var startup = require('commander')
  , join = require('path').join;

startup
  .version(require(join(__dirname, "../package.json")).version)
  .option('-p --path', 'path to file', 'app.js')
  .option('-d --dev', 'run in development mode', false)
  .parse(process.argv);


var path = startup.path?
            join(process.cwd(), startup.path):
            join(process.cwd(), 'app');

switch (startup.args[0]) {
  case "middleware":
    require("../lib/commands/middleware")(path, startup.dev)
    break;
  case "settings":
    require("../lib/commands/settings")(path, startup.dev)
    break;
  case "routes":
    require("../lib/commands/routes")(path, startup.dev)
    break;
  case "start":
  default:
    require("../lib/commands/start")(path, startup.dev);
}
